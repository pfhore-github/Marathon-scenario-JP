CollectionsUsed = { 22 }
precipitation_collection = 22
precipitation_sequence = 26
precipitation_gravity = .03
precipitation_wind = .01

Triggers = {}

function precipitationpoly(p)
	if p.ceiling.transfer_mode == "landscape" then
		if p.media then
			if p.media ~= 11 then
				return true
			else
				return false
			end
		else
			return true
		end
	else
		return false
	end
end

function Triggers.got_item(type, player)
	Global:got_item(type, player)
end

function Triggers.monster_damaged(monster, aggressor_monster, damage_type, damage_amount, projectile)
	Global:monster_damaged(monster, aggressor_monster, damage_type, damage_amount, projectile)
end

function Triggers.player_damaged(victim, aggressor_player, aggressor_monster, damage_type, damage_amount, projectile)
	Global:player_damaged(victim, aggressor_player, aggressor_monster, damage_type, damage_amount, projectile)
end

function Triggers.player_killed(player, aggressor_player, action, projectile)
	Global:player_killed(player, aggressor_player, action, projectile)
end

function Triggers.init(restoring)
	Global:initialize(restoring, 7, 0, 0, 0, 0, 0, 150)
	Global:initprecipitation(512)
	Global:goals()
	Level.stash["names"] = "physics6"
end

function Triggers.idle()
	Global:idlemain()
	Global:idleprecipitation()
	Global:nightmediafog(Players.local_player)
	for p in Players() do
		for g = 1, 18 do
			if Level._goal[g] == p.polygon then
				if g > 9 and p.z < 5 then
					p:position(p.x, p.y, p.z, Level._goal[g - 9]) -- move player from "Eat S'pht and Die" to "Flight of Icarus"
				elseif g < 10 and p.z > 5 then
					p:position(p.x, p.y, p.z, Level._goal[g + 9]) -- move player from "Flight of Icarus" to "Eat S'pht and Die"
				end
			end
		end
	end
end

function Triggers.cleanup()
	Global:cleanup()
end